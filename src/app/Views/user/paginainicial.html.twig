{% extends "Base.html.twig" %}

{% block css %}
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"/>
  <link rel="stylesheet" href="/public/assets/css/paginainicial.css">
  <link rel="stylesheet" href="/public/assets/css/header.css">
  <link rel="stylesheet" href="/public/assets/css/footer.css">
  <link rel="stylesheet" href="/public/assets/css/tema.css">
  <link rel="stylesheet" href="/public/assets/css/calendario.css">
{% endblock %}

{% block main %}
  <main>
    <p id="saudacao" class="texto-tema-adaptavel text-center mt-3">
      Tudo beleza, <span class="text-success fw-bold">{{ nome|upper }}</span>!
    </p>

    <div class="container py-4 d-flex flex-column flex-md-row justify-content-between">
      <!-- Calendário -->
      <div id="calendar">
        <div class="calendar-header">
          <span id="prev-month" class="month-change">&#10094;</span>
          <div>
            <span id="month-picker"></span>
            <span id="year"></span>
          </div>
          <span id="next-month" class="month-change">&#10095;</span>
        </div>
        <div class="calendar-weekdays">
          <div>Dom</div><div>Seg</div><div>Ter</div><div>Qua</div><div>Qui</div><div>Sex</div><div>Sáb</div>
        </div>
        <div id="calendar-days" class="calendar-body"></div>
      </div>

      <!-- Lista de horários -->
      <div id="horarios" class="d-none flex-column align-items-start ms-md-4 mt-4 mt-md-0">
        <h5 id="horariosTitulo" class="texto-tema-adaptavel mt-3">
          Horários disponíveis em <span id="dataSelecionada"></span>:
        </h5>
        <div id="lista-horarios" class="d-flex flex-column gap-2 mt-2"></div>
      </div>
    </div>

    <!-- Serviços -->
    <section class="container py-4">
      <h4 class="texto-tema-adaptavel text-center">Escolha os serviços desejados:</h4>
      <div id="servicos-lista" class="d-flex flex-wrap gap-3 justify-content-center">
        <div class="icon-servico" data-tipo="cabelo">
          <input type="checkbox" class="servico-checkbox" value="Corte de Cabelo" data-preco="50.00" />
          Corte de Cabelo
          <span class="valor-servico">R$ 50,00</span>
        </div>
        <div class="icon-servico" data-tipo="coloracao">
          <input type="checkbox" class="servico-checkbox" value="Coloração" data-preco="120.00" />
          Coloração
          <span class="valor-servico">R$ 120,00</span>
        </div>
        <div class="icon-servico" data-tipo="barba">
          <input type="checkbox" class="servico-checkbox" value="Barbearia" data-preco="40.00" />
          Barbearia
          <span class="valor-servico">R$ 40,00</span>
        </div>
      </div>

      <!-- Comentário -->
      <div class="mt-4">
        <label for="comentarios" class="form-label texto-tema-adaptavel">Comentários ou especificações:</label>
        <textarea id="comentarios" class="form-control" rows="4"></textarea>
      </div>
    </section>

    <!-- Valor total -->
    <div class="container text-center mt-4 mb-4">
      <p><strong class="texto-tema-adaptavel">Valor Total:</strong>
      <span id="valor-total" class="texto-tema-adaptavel">R$ 0,00</span></p>
      <button id="agendar-btn" class="btn btn-stylehub">Confirmar Agendamento</button>
    </div>
  </main>

<!-- Modal de confirmação -->
<div class="modal fade" id="modalConfirmacao" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Agendamento Realizado</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body texto-tema-adaptavel">
        Seu agendamento foi realizado com sucesso!
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block javascripts %}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"></script>
<script src="/public/assets/js/mododark.js"></script>
<script src="/public/assets/js/calendario.js"></script>
{% endblock %}
